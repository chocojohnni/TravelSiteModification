@model TravelSiteModification.Models.HotelBookingViewModel

@{
    ViewData["Title"] = "Book Hotel Room";
}

<div class="container mt-4">

    <h1 class="mb-4">Complete Your Room Booking</h1>
    <hr />

    <!-- Selected Details -->
    <div class="card card-body bg-light mb-4">
        <h4 class="fw-bold">Selected Details</h4>
        <p><strong>Hotel:</strong> @Model.HotelName</p>
        <p><strong>Room Type:</strong> @Model.RoomType</p>
        <p><strong>Capacity:</strong> @Model.Capacity</p>
        <p><strong>Price Per Night:</strong> @Model.PricePerNight.ToString("C")</p>
        <p><strong>Check-In:</strong> @Model.CheckInDate</p>
        <p><strong>Check-Out:</strong> @Model.CheckOutDate</p>
    </div>

    <form method="post">

        <div class="row mb-4">

            <!-- Guest Info -->
            <div class="col-md-6">
                <h4 class="fw-bold mb-3">Guest Information</h4>

                <label class="form-label">First Name</label>
                <input asp-for="FirstName" class="form-control" />

                <label class="form-label mt-3">Last Name</label>
                <input asp-for="LastName" class="form-control" />

                <label class="form-label mt-3">Email</label>
                <input asp-for="Email" class="form-control" type="email" />
            </div>

            <!-- Payment Info (Mock) -->
            <div class="col-md-6">
                <h4 class="fw-bold mb-3">Payment Details (Mock)</h4>

                <label class="form-label">Card Number</label>
                <input asp-for="CardNumber" class="form-control" maxlength="16" />

                <label class="form-label mt-3">Expiry Date (MM/YY)</label>
                <input asp-for="ExpiryDate" class="form-control" maxlength="5" />

                <label class="form-label mt-3">CVV</label>
                <input asp-for="CVV" class="form-control" maxlength="3" />
            </div>

        </div>

        <!-- Submit -->
        <button asp-action="Index" class="btn btn-primary btn-lg">Confirm & Book Room</button>

        @if (Model.BookingSuccessful)
        {
            <p class="alert alert-success mt-3">@Model.StatusMessage</p>
        }
        else if (!string.IsNullOrEmpty(Model.StatusMessage))
        {
            <p class="alert alert-danger mt-3">@Model.StatusMessage</p>
        }

    </form>

    <!-- Back -->
    <form asp-action="Back" method="post" class="mt-4">
        <input type="hidden" name="hotelId" value="@Model.HotelID" />
        <button class="btn btn-secondary">&larr; Back to Room Selection</button>
    </form>

</div>
